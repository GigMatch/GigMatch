<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head :: myProfileHead('My Profile')">
<body>
<header th:replace="fragments/navbar :: myProfileNav"></header>

<div class="container">
    <div class="row">
        <div class="col-md-3">
            <div class="card">
                <ul class="list-group list-group-flush">
                    <li class="list-group-item"><a href="#">Notifications</a></li>
                    <li class="list-group-item"><a href="#">Messages</a></li>
                    <li class="list-group-item"><a href="/feed/posts">Posts</a></li>
                    <li class="list-group-item"><a href="/feed/events">Events</a></li>
                    <li class="list-group-item"><a th:href="'/my-profile/' + ${profileId}">My Profile</a></li>
                </ul>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card mb-3">
                <button type="button" class="btn btn-primary btn-lg btn-block" th:if="${profileId == null}">Create a profile.</button>
                <div class="card-body">
                    Create a post or event.
                </div>
            </div>
            <div th:if="${noPostsFound}">
                No posts were found.
            </div>
            <div class="card mb-2" th:each="post : ${posts}">
                <div class="card-body">
                  <h5 th:text="${post.owner.username}"></h5>
                    <p class="card-text" th:text="${post.body}"></p>
                </div>
            </div>
        </div>



        <div id="comments">
            <h4>Comments</h4>
            <ul class="collection">
                <li th:each="comment : ${posts.comments}" class="collection-item avatar">
                    <span class="title" th:text="${comment.user.username}"></span>
                    <p th:text="${comment.content}"></p>
                    <p th:text="${comment.children}"></p>
                    <th:block th:if="comment.children != null" th:each="child : ${comment.children}">
                        <span class="title" th:text="${child.user.username}"></span>
                        <blockquote th:text="child.body"></blockquote>
                    </th:block>
                </li>
            </ul>
        </div>

<!--        <div class="container" th:if="${post}">-->
<!--            <form th:action="@{/feed/posts}" th:method="POST" th:object="${posts}">-->
<!--                comment body:-->
<!--                <div>-->
<!--                    <input type="hidden" name="postId" th:value="${posts.id}">-->
<!--                </div>-->
<!--                <input th:field="*{body}" />-->
<!--                <br />-->
<!--                <input type="submit" />-->
<!--            </form>-->
<!--        </div>-->


<!--        <div th:each="postcomment: ${posts}">-->
<!--            <h2>Comment: <span th:text="${postcomment}"></span> Created by: <span th:text="${postcomment.user.firstName}"></span></h2>-->
<!--        </div>-->

        <!--        <div class="col-md-6">-->
        <!--            <div class="card mb-3">-->
        <!--                <div class="card-body">-->
        <!--                    Comments-->
        <!--                </div>-->
        <!--            </div>-->
        <!--            <div th:if="${noCommentsFound}">-->
        <!--                No comments were found.-->
        <!--            </div>-->
        <!--            <div class="card mb-2" th:each="comment : ${comments}" >-->
        <!--                <div class="card-body">-->
        <!--                    <h5 th:text="${comment.owner.getUsername()}"></h5>-->
        <!--                    <p class="card-text" th:text="${comment.content}"></p>-->
        <!--                    <a href="#" class="btn btn-primary">Go somewhere</a>-->
        <!--                </div>-->

        <!--            </div>-->
        <!--        </div>-->

        <!--                <div class="card-body">-->
        <!--                    <h6>Post a comment</h6>-->
        <!--                    <br>-->
        <!--                    <form th:action="@{/feed/post}" method="POST" th:object="${comment}">-->
        <!--                    <div class="form-group">-->
        <!--                        <label for="content"></label>-->
        <!--                        <textarea id="content" name="content" class="form-control" type="text"></textarea>-->
        <!--                    </div>-->
        <!--                    <input id="btn" type="submit" class="btn btn-block btn-primary" value="comment">-->
        <!--                    </form>-->
        <!--                </div>-->
        <!--            </div>-->
        <!--        </div>-->
        <div class="col-md-3">
            <div class="card mb-3">
                <img src="https://liveatnolan.com/wp-content/uploads/2018/06/Placeholder-Map.jpg" class="card-img-top"
                     alt="...">
                <div class="card-body">
                    <p class="card-text">Map with center view of your city.</p>
                </div>
            </div>
            <div class="card mb-3">
                <img src="https://promisedlandcsa.com/wp-content/uploads/2013/05/calendar_placeholder.gif"
                     class="card-img-top" alt="...">
                <div class="card-body">
                    <p class="card-text">Your Calendar.</p>
                </div>
            </div>
        </div>
    </div>

</div>
</div>


</body>
</html>